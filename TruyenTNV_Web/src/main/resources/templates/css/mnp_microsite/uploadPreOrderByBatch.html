<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
	th:include="layout/layout :: layout">
<head th:include="layout/layout :: header">
<title id="pageTitle">Upload pre-order theo file</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>
	<div class="page-content" th:fragment="content">
		<script type="text/ng-template" id="headerCheckboxAdd.html">
   	 		<input type="checkbox" ng-model="model.checkboxListPreOrderItem" value="" ng-click="checkAllPreOrders()"/>
  		</script>

		<script src="/views/css/mnp_microsite/uploadPreOrderByBatch.js"
			type="text/javascript"></script>

		<div ng-controller="ctr-updatePreOrder" id="contentMain"
			class="ng-cloak">
			<div class="portlet light bordered">
				<div class="portlet-title">
					<div class="caption">
						<i class="icon-plus font-orange"></i> <span
							class="caption-subject font-orange bold uppercase"
							translate="vnm.uploadPreOrderByBatch.label.page.title" />
					</div>
				</div>
				<div class="portlet-body form">
					<form name="frm_prepaid" class="form-horizontal  form-bordered"
						method="post" ng-validate="validationOptions">
						<div class="form-body">
							<div class="tabbable-custom ">
								<div class="tab-content">
									<h3 class="form-section" style="margin-top: 10px;"
										translate="vnm.uploadPreOrderByBatch.label.page.title" />
									<div class="form-group">
										<div class="col-md-4">
											<span class="btn blue-hoki  btn-file"> <i
												class="fa fa-cloud-upload"></i> Chọn file<input type="file"
												id="btnChoosePreOrderFile"
												ng-click="loadAllPreOrder(uploaderPreOrder, $event)"
												nv-file-select="" uploader="uploaderPreOrder" multiple="" />
											</span>

											<button type="button" class="btn"
												style="background-color: blue; color: white;"
												ng-click="downloadFileTemplateServer()">
												<span class="fa fa-download"></span>Tải file mẫu
											</button>
										</div>

										<label class="control-label col-md-1"
											translate="vnm.update_province.label.file.name" />
										<div class="col-md-4">
											<input type="text" ng-disabled="true"
												placeholder="Filename...." class="form-control"
												ng-model="fileNameListPreOrder" name="fileNameListPreOrder" />
										</div>
									</div>

									<div class="form-group">
										<h3 class="form-section" style="margin-top: 40px;"
											translate="vnm.uploadPreOrderByBatch.label.list" />

										<div class="col-md-12">
											<div class="table-scrollable">
												<table ng-table="tableParams"
													class="table table-striped table-bordered"
													show-filter="false">
													<tr ng-repeat="item in $data">
														<td header="'headerCheckboxAdd.html'" align="center"><input
															type="checkbox"
															ng-click="selectOrRemovePreOrderItem(item)"
															ng-model="item.typeCheckBox" /></td>

														<td title="'SĐT chuyển mạng'" align="center">{{item.isdn}}</td>
														<td title="'Hình thức HM'" align="center">{{item.subTypeName}}</td>
														<td title="'Họ tên KH'" align="center"
															style="min-width: 150px">{{item.nameCustomer}}</td>
														<td title="'Ngày sinh'" align="center">{{item.bod}}</td>
														<td title="'Loại giấy tờ'" align="center"
															style="min-width: 200px">{{item.docTypeName}}</td>
														<td title="'Số giấy tờ'" align="center">{{item.docNum}}</td>
														<td title="'SĐT liên hệ'" align="center">{{item.telNum}}</td>
														<td title="'Tỉnh/Thành phố'" align="center">{{item.provinceName}}</td>
														<td title="'Quận/Huyện'" align="center">{{item.districtName}}</td>
														<td title="'Phường/Xã'" align="center">{{item.precinct}}</td>
														<td title="'Địa chỉ'" align="center"
															style="min-width: 200px">{{item.address}}</td>
														<td title="'Giao sim'" align="center">{{item.deliverName}}</td>
														<td title="'Kênh tiếp nhận'" align="center">{{item.channelName}}</td>
														<td title="'Mô tả'" align="center"
															style="min-width: 200px">{{item.note}}</td>
														<td title="'Ngày tạo'" align="center">{{item.createdDate}}</td>
														<td title="'Trạng thái thực hiện'" align="center">
															<div
																ng-repeat="itemNote in item.statusInsert track by $index">
																{{itemNote}}</div>
														</td>


													</tr>
													<tr ng-if="$data.length == 0">
														<td colspan="7"
															translate="vnm.update_province.mess.nodata"></td>
													</tr>
													<tr>
														<td colspan="11" align="left">
															<h3 class="form-section">
																<label translate="vnm.update_province.tableRecord.total"></label>
																<label>{{tableParams.total()}}</label>
															</h3>
														</td>
													</tr>
												</table>
											</div>
										</div>
									</div>

									<div class="form-group">
										<div class="col-md-6"></div>
										<div class="col-md-6">
											<button type="button" class="btn btn-primary"
												ng-click="removeAllItem()"
												ng-disabled="!uploaderPreOrder.queue.length">
												<span class="glyphicon glyphicon-trash"></span> Xóa danh
												sách
											</button>

											<button type="button" class="btn btn-primary"
												ng-click="insertListPreOrder()" ng-disabled="disableExecute">
												<i class=""></i> Thực hiện
											</button>
										</div>
									</div>

								</div>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" th:include="layout/layout :: layout">
<head th:include="layout/layout :: header">
    <title id="pageTitle">Cập nhật thông tin đại lý theo lô</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<body>
<div class="page-content" th:fragment="content">
    <script src="/views/css/pretups/formUpdateAgent.js" type="text/javascript"></script>
    <div ng-controller="updateAgentController" id="updateAgent" class="ng-cloak">
        <div class="portlet light bordered">
            <div class="portlet-title">
                <div class="caption">
                    <i class="icon-plus font-orange"></i> <span class="caption-subject font-orange bold uppercase"
                                                                translate="vnm.update_agent.page.title"/>
                </div>
            </div>
            <div class="portlet-body form">
                <form name="frm_updateAgent" class="form-horizontal  form-bordered" method="post"
                      ng-validate="validationOptions">
                    <div class="form-body">
                        <div class="tabbable-custom ">
                            <div class="tab-content">
                                <div class="tab-pane active" id="tab_5_1">
                                    <div class="form-group" id="formSearchPar">
                                        <h3 class="form-section"
                                            translate="vnm.update_agent.fieldset.choose.file"></h3>
                                        <div class="form-group">
                                            <label class="control-label col-md-2"
                                                   translate="vnm.update_agent.label.choose.file"></label>
                                            <div class="col-md-8">
                                                <input type="text" id="fileName" ng-model="model.fileName" name="fileName" class="form-control"/>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="btn blue-hoki  btn-file"> <i
                                                        class="fa fa-cloud-upload"></i> <span
                                                        translate="vnm.update_agent.button.choose.file"></span>
                                                    <input type="file"
                                                           id="btnChoose"
                                                           ng-click="uploadFile(uploaderAgent, $event)"
                                                           nv-file-select="" uploader="uploader" multiple=""/>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-12" style="text-align: center;">
                                            <button type="button" class="btn"
                                                    style="background-color: blue; color: white;"
                                                    ng-click="downloadTemplate()">
                                                <i class="fa fa-download"></i> <span
                                                    translate="vnm.update_agent.button.download.template"></span>
                                            </button>
                                            <button type="button" class="btn btn-primary"
                                                    ng-click="submitData()">
                                                <i class="fa fa-exchange"></i> <span
                                                    translate="vnm.update_agent.button.submit"></span>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-md-12">
                                            <div class="table-scrollable" id="divTblAgent">
                                                <table ng-table="tableAgent" show-filter="false" id="tblAgent"
                                                       class="table table-striped table-bordered">
                                                    <tr ng-repeat="item in $data">
                                                        <td title="'Loại đại lý'">{{item.strAgentType}}</td>
                                                        <td title="'Tên kinh doanh'">{{item.strTradeName}}</td>
                                                        <td title="'Mã số thuế'">{{item.strTin}}</td>
                                                        <td title="'Tên chủ sở hữu'">{{item.strOwnerName}}</td>
                                                        <td title="'Câu hỏi bí mật'">{{item.strSecureQuest}}</td>
                                                        <td title="'Ngày sinh'">{{item.strBirthDate}}</td>
                                                        <td title="'Số liên lạc'">{{item.strContactNo}}</td>
                                                        <td title="'ĐC kinh doanh'">{{item.strOutletAddress}}</td>
                                                        <td title="'Nhận báo cáo qua email'">{{item.strReportByEmail}}</td>
                                                        <td title="'Email'">{{item.strEmail}}</td>
                                                        <td title="'Tỉnh'">{{item.strProvince}}</td>
                                                        <td title="'Huyện'">{{item.strDistrict}}</td>
                                                        <td title="'CMTND'">{{item.strIdNo}}</td>
                                                        <td title="'Ngày cấp'">{{item.strDateIssue}}</td>
                                                        <td title="'Nơi cấp'">{{item.strPlaceIssue}}</td>
                                                        <td title="'Phường/Xã'">{{item.strWard}}</td>
                                                        <td title="'Số thuê bao cha'">{{item.parentIsdn}}</td>
                                                        <td title="'Cấp đại lý'">{{item.agentLevel}}</td>
                                                        <td title="'Số thuê bao'">{{item.strMSISDN}}</td>
                                                        <td title="'Số ICCID'">{{item.strICCID}}</td>
                                                        <td title="'Trạng thái lỗi'">{{item.errorMessage}}</td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12" align="right" ng-show="listAgent.length>0">
                                <button type="button" class="btn btn-danger"
                                        ng-click="ExportDataTable()">
                                    <span class="fa fa-download"></span><label
                                        translate="vnm.prepaid_list.label.download.template.result"></label>
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
</body>
</html>